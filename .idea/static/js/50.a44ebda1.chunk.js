"use strict";(self.webpackChunkaston_project=self.webpackChunkaston_project||[]).push([[50],{7583:(e,a,t)=>{t.d(a,{B:()=>h,R:()=>n});var s=t(5198),r=t(184);function n(){const{signOut:e}=(0,s.aC)();return(0,r.jsx)("button",{className:"logout__button",onClick:e,children:"Logout"})}var o=t(2791),u=t(7689),l=t(3537),i=t(8760);const c=e=>!!e.toLowerCase().match(l.kG),d=e=>e.length>=8;function h(e){let{isLogin:a}=e;const[t,n]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[m,p]=(0,o.useState)(""),[v,j]=(0,o.useState)(""),[x,S]=(0,o.useState)(""),[b,C]=(0,o.useState)(""),[N,f]=(0,o.useState)(""),[k,w]=(0,o.useState)(!1),_=(0,u.s0)(),I=(0,s.aC)(),L=(0,o.useCallback)((()=>{c(t)?C(""):C("Please enter a valid e-mail")}),[t]),A=(0,o.useCallback)((()=>{d(h)?f(""):f("Passwords must have 8 characters or more")}),[h]),E=(0,o.useCallback)((e=>{n(e.target.value),""===e.target.value?p(""):p("Email")}),[]),P=(0,o.useCallback)((e=>{g(e.target.value),""===e.target.value?j(""):j("Password")}),[]),R=(0,o.useCallback)((async e=>{try{e.preventDefault(),L(),A(),c(t)&&d(h)&&(w(!0),a?(await I.signIn(t,h),_(l.RouteName.MAIN_PAGE)):(await I.signUp(t,h),_(l.RouteName.MAIN_PAGE)))}catch(s){w(!1),s instanceof Error?S(s.message):S("unknown_error")}}),[I,t,h,a,L,A,_]);return(0,r.jsxs)(i.l0,{onSubmit:R,className:"auth-form",error:x,"data-testid":"auth-form",children:[(0,r.jsx)(i.II,{placeholder:"Email",type:"email",label:m,onChange:E,id:"username",onBlur:L,error:b}),(0,r.jsx)(i.II,{placeholder:"Password",type:"password",label:v,onChange:P,id:"password",onBlur:A,error:N}),(0,r.jsx)(i.zx,{className:"".concat(k&&"loading"),type:"submit",children:k?"Loading...":a?"Sign in":"Sign up"})]})}},6050:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});t(2791);var s=t(9517),r=t(184);function n(){return(0,r.jsx)(s.K,{isLogin:!1})}},9517:(e,a,t)=>{t.d(a,{K:()=>u});t(2791);var s=t(7583),r=t(3537),n=t(8760),o=t(184);function u(e){let{isLogin:a}=e;return(0,o.jsxs)("div",{className:"auth-card","data-testid":"auth-card",children:[(0,o.jsx)("h1",{children:a?"Login":"Registration"}),(0,o.jsx)(s.B,{isLogin:a}),(0,o.jsxs)("div",{className:"auth-card__div",children:[(0,o.jsx)("span",{children:a?"You don't have an account?":"Already registered?"}),(0,o.jsx)(n.rU,{href:a?r.RouteName.REGISTRATION_PAGE:r.RouteName.LOGIN_PAGE,text:a?"Sign up":"Sign in"})]})]})}}}]);
//# sourceMappingURL=50.a44ebda1.chunk.js.map